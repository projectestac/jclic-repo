<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta name="description" content="Repository of JClic projects">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="generator" content="Polymer Starter Kit" />
    <title>JClic test library</title>

    <!-- Chrome for Android theme color -->
    <meta name="theme-color" content="#2E3AA1">

    <!-- Web Application Manifest -->
    <link rel="manifest" href="web-app-manifest.json">

    <link rel="icon" sizes="16x16" href="icons/favicon.ico">
    <link rel="icon" sizes="36x36" href="icons/icon-36.png">    
    <link rel="icon" sizes="48x48" href="icons/icon-48.png">
    <link rel="icon" sizes="72x72" href="icons/icon-72.png">
    <link rel="icon" sizes="96x96" href="icons/icon-96.png">
    <link rel="icon" sizes="128x128" href="icons/icon-128.png">
    <link rel="icon" sizes="144x144" href="icons/icon-144.png">
    <link rel="icon" sizes="152x152" href="icons/icon-152.png">
    <link rel="icon" sizes="192x192" href="icons/icon-192.png">

    <link rel="shortcut icon" href="icons/icon-36.png">

    <!-- Tile color for Win8 -->
    <meta name="msapplication-TileColor" content="#3372DF">

    <!-- Add to homescreen for Chrome on Android -->
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="application-name" content="JClic library">

    <!-- Add to homescreen for Safari on iOS -->
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <meta name="apple-mobile-web-app-title" content="JClic library">

    <link rel="apple-touch-icon" sizes="128x128" href="icons/icon-128.png">
    <link rel="apple-touch-icon" sizes="152x152" href="icons/icon-152.png">
    <link rel="apple-touch-icon-precomposed" sizes="128x128" href="icons/icon-128.png">

    <!-- Tile icon for Win8 (144x144) -->
    <meta name="msapplication-TileImage" content="icons/icon-144.png">

    <!-- load JClic and JQuery -->
    <script src="dist/jclic.min.js"></script>
        
    <!-- build:js bower_components/webcomponentsjs/webcomponents-lite.min.js -->
    <script src="bower_components/webcomponentsjs/webcomponents-lite.js"></script>
    <!-- endbuild -->

    <!-- build:js bower_components/bower-unidecode/unidecode.js -->
    <script src="bower_components/bower-unidecode/unidecode.js"></script>
    <!-- endbuild -->

    <!-- build:js bower_components/deployjava/deployjava.js -->
    <script>
      /** global s **/
      // Hack to avoid a critical error in deployjava.js:1105 ('s' is not defined)
      var s = null;
    </script>
    <script src="bower_components/deployjava/deployjava.js"></script>
    <!-- endbuild -->

    <!-- will be replaced with elements/elements.vulcanized.html -->
    <link rel="import" href="elements/elements.html">
    <!-- endreplace-->

    <!-- For shared styles, shared-styles.html import in elements.html -->
    <style is="custom-style" include="shared-styles"></style>

  </head>

  <body unresolved class="fullbleed layout vertical">
    <!-- span id="browser-sync-binding"></span -->
  <template is="dom-bind" id="app">

    <paper-drawer-panel id="paperDrawerPanel" drawer-width="220px">

      <!-- Drawer Scroll Header Panel -->
      <paper-scroll-header-panel id="scrollPanel" drawer fixed>

        <!-- Drawer Toolbar -->
        <paper-toolbar id="drawerToolbar">
          <span class="paper-font-title" style="margin-left: -8px">[[labels.searchTitle]]</span>
          <span class="flex"></span>
        </paper-toolbar>

        <!-- Selection form -->
        <div id="selectionForm">
          <paper-dropdown-menu label="[[labels.languages]]" on-paper-dropdown-close="filterChanged">
            <paper-menu class="dropdown-content" selected="{{currentLang}}">
              <template is="dom-repeat" items="[[actLanguages]]">
                <paper-item role="listitem">[[item.text]]</paper-item>              
              </template>
            </paper-menu>
          </paper-dropdown-menu>

          <paper-dropdown-menu label="[[labels.subjects]]" on-paper-dropdown-close="filterChanged">
            <paper-menu class="dropdown-content" selected="{{currentSubject}}">
              <template is="dom-repeat" items="[[actSubjects]]">
                <paper-item role="listitem">[[item.text]]</paper-item>              
              </template>
            </paper-menu>
          </paper-dropdown-menu>

          <paper-dropdown-menu label="[[labels.levels]]" on-paper-dropdown-close="filterChanged">
            <paper-menu class="dropdown-content" selected="{{currentLevel}}">
              <template is="dom-repeat" items="[[actLevels]]">
                <paper-item role="listitem">[[item.text]]</paper-item>              
              </template>
            </paper-menu>
          </paper-dropdown-menu>

          <paper-input class="textInput" label="[[labels.title]]" value="{{currentTitle}}"></paper-input>
          <paper-input class="textInput" label="[[labels.author]]" value="{{currentAuthor}}"></paper-input>
          <paper-button raised class="search" label="[[labels.searchTitle]]" on-tap="tapSearch">
            <iron-icon icon="search" class="small" style="margin-right: 4px;"></iron-icon>
            <span>[[labels.search]]</span>
          </paper-button>
        </div>

        <div class="bottomBtn">
          <paper-icon-button icon="settings" title="[[labels.settings]]" on-tap="tapSettings"></paper-icon-button>
          <paper-icon-button icon="info" title="[[labels.about]]" on-tap="displayInfo"></paper-icon-button>
        </div>
        <div class="numProjects"><span>[[numMatchProjects]]</span> <span>[[labels.projects]]</span></div>
      </paper-scroll-header-panel>

      <!-- Main Area -->
      <paper-scroll-header-panel main condenses keep-condensed-header class="mainContainer">
        <!-- Main Toolbar -->
        <paper-toolbar id="mainToolbar" class="tall">
          <paper-icon-button id="paperToggle" icon="menu" paper-drawer-toggle></paper-icon-button>
          <span class="flex"></span>

          <!-- Toolbar icons -->
          <div id="langSel">
            <template is="dom-repeat" items="[[languages]]"><a href="#" class="JCRLang" id="[[item.id]]" title="[[item.name]]" on-click="clickOnLang">[[item.id]]</a></template>
          </div>

          <!-- Application name -->
          <div class="middle middle-container center horizontal layout">
            <h1 class="app-name">[[title]]</h1>
          </div>

          <!-- Application sub title -->
          <div class="bottom bottom-container center horizontal layout">
            <div class="bottom-title paper-font-subhead">[[description]]</div>
          </div>
        </paper-toolbar>

        <!-- Main Content -->
        <div class="content">
          <iron-pages attr-for-selected="data-route" selected="[[route]]" class="mainContainer">
            <!-- Main section: list of projects -->
            <section data-route="projects">
              <div id="projects" class="cardContainer" /> 
            </section>
            <section data-route="info">
              <info-pages lang="[[lang]]" labels="[[labels]]" title="[[title]]" on-close="closeInfo"></info-pages>
            </section>            
          </iron-pages>
        </div>

      </paper-scroll-header-panel>      
    </paper-drawer-panel>

    <paper-dialog id="settings" modal>
      <h3>[[labels.settings]]</h3>
      <div class="vertical layout">
        <paper-material elevation="1">
          <paper-toggle-button checked="{{fullScreen}}" enabled="[[fullScreenEnabled]]">
            <span>[[labels.fullScreen]]</span>
          </paper-toggle-button>
        </paper-material>
        <paper-material elevation="1">
          <p><span>[[labels.orderBy]]</span>:</p>
          <paper-menu id="orderMenu" style="width: 75%" selected="{{order}}">
            <paper-item id="orderDate">[[labels.date]]</paper-item>
            <paper-item id="orderTitle">[[labels.title]]</paper-item>
            <paper-item id="orderAuthor">[[labels.author]]</paper-item>        
          </paper-menu>
          <p/>
          <paper-toggle-button checked="{{orderInv}}">
            <span>[[labels.inverse]]</span>
          </paper-toggle-button>        
        </paper-material>
      </div>
      <div class="buttons">
        <paper-button dialog-dismiss on-click="backSettings">[[labels.cancel]]</paper-button>
        <paper-button dialog-confirm on-click="newSettings">[[labels.ok]]</paper-button>
      </div>      
    </paper-dialog>

    <big-prj-card id="bigCard" lang="[[lang]]" labels="[[labels]]" base-url="{{baseURL}}" local-base-url="{{localBaseURL}}" projects-path="{{projectsPath}}"></big-prj-card>

    <paper-dialog id="playerDialog" modal style="width: 100%; height: 100%" on-iron-overlay-closed="playerClosed">
      <jclic-player-js id="player" fullscreen="{{fullScreen}}" options="[[playerOptions]]"></jclic-player-js>      
    </paper-dialog>

    <paper-spinner alt="[[labels.loading]]" active="[[spinner]]"></paper-spinner>

  </template>
  <!-- build:js scripts/app.js -->
  <script src="scripts/app.js"></script>
  <!-- endbuild-->
</body>
</html>
