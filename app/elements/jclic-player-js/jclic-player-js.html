<link rel="import" href="../../bower_components/polymer/polymer.html">

<dom-module id="jclic-player-js">
  <template>
    <style>
      :host {
        @apply(--paper-dialog);
        @apply(--jclic-player-js);
        margin: 0 !important;
        padding: 0;
      }
      :host #playerDiv {
        width: 100vw;
        height: 100vh;
      }
    </style>
    <div id="playerDiv"></div>
  </template>
</dom-module>

<script>
  Polymer({
    is: 'jclic-player-js',
    properties: {
      options: {
        type: Object,
        value: {}
      },
      project: {
        type: String,
        observer: '_setProject'
      },
      fullscreen: {
        type: Boolean,
        value: false
      },
      _player: {
        type: Object,
        value: null,
        reflectToAttribute: false,
        notify: false
      }
    },
    _setProject: function (project) {
      
      if(project) {
        this._player = window.JClicObject.loadProject(this.$.playerDiv, project, this.options);
      }
      
      if (this._player && this.fullscreen) {
        this._player.skin.setScreenFull(true);
      }
      
    }
  });
</script>
